{% extends 'base.html' %}

{% block content %}
<div class="container mt-5 bd-gutter">
    <div class="row mb-4">
        <div class="col-md-6">
            <h1 class="fw-semibold lh-2">Tutorial</h1>
        </div>
    </div>
    <div class="row">
        <div class="col-auto">
            <p class="lead mb-2">The following sections provide information to help interpreting MITE entries and creating new submissions.</p>
            <ul class="lh-base my-3">
                <li><p class="lead my-1">Overview of the MITE entry page</p></li>
                <li><p class="lead my-1">Creating MITE-compatible reaction SMARTS and SMILES strings</p></li>
            </ul>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <h3 class="fw-semibold lh-2 my-3">Overview of the MITE entry page</h3>
            <div class="row">
                <div class="col">
                    <p class="lead my-2">The <b>Navigation Header</b> allows to browse through the MITE entries (the 'left' and 'right' arrow keys on a keyboard can also be used).</p>
                    <p class="lead my-2">The <b>Enzyme Information</b> section provides <b>general information</b> about the tailoring enzyme, including information on <b>Auxiliary Enyzmes</b> (if any are needed for the enzyme to function properly). The <b>Changelog</b> outlines the updates made to this entry.</p>
                    <p class="lead my-2">The <b>Reaction Information</b> column displays the known tailoring reaction of this enzyme. The <b>Reaction SMARTS</b> tab shows the generic reaction as expressed by the reaction SMARTS, while the <b>Reaction Information</b> tab gives additional information.The <b>Example</b> cards below show examples of substrate-product pairs. Multiple tailoring reactions/substrate specificities can be known, and these can be selected clicking on the <b>"Select a reaction"</b> button.</p>
                </div>
                <div class="col">
                    <img class="d-none d-sm-block my-3" style="min-width: 50%; max-width: 100%; height: auto;" src="{{ url_for('static', path='images/help/help0.png') }}" alt="MITE entry overview">
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <h3 class="fw-semibold lh-2 my-3">Creating MITE-compatible reaction SMARTS and SMILES strings</h3>
            <p class="lead my-2">Reaction SMARTS and SMILES are the core data in any MITE entry, summarizing the reaction and substrate specificity of the tailoring enzyme. This step-by-step guide shows how to create MITE-compatible SMARTS and SMILES.</p>
            <h4 class="fw-semibold lh-2 my-3">What are SMILES, SMARTS, and reaction SMARTS?</h4>
            <p class="lead my-2">SMILES and SMARTS are line notations used to describe chemical structures. SMILES string represents a <b>molecule</b> by specifying its atoms and their connectivity, while a SMARTS string defines a <b>search pattern of atoms and bonds</b>. For example, the SMILES string “C=C” represents ethylene, while the SMARTS string “[C]=[C]” matches both ethylene and propylene (“C=CC”).</p>
            <p class="lead my-2">Reaction SMARTS extend this concept by modeling chemical reactions, encapsulating the <b>pattern matching of substrates</b> and their <b>conversion to products</b> (“substrate(s)>>product(s)”). This system allows for the modeling of reactions and their application to SMILES strings.</p>
            <p class="lead my-2">In MITE, reaction SMARTS describe the substrate specificity and reactions of tailoring enzymes, while SMILES are used to represent the actual substrates and products of characterized reactions.</p>
            <h4 class="fw-semibold lh-2 my-3">How to create reaction SMARTS and SMILES?</h4>
            <p class="lead my-2">Writing SMILES and reaction SMARTS by hand can be complex and error-prone. Instead, we recommend drawing the chemical structures first and then exporting them as string notations.</p>
            <p class="lead my-2">Although there are many chemistry drawing tools available, we recommend the free, open-source tool <a class="custom-link" target="_blank" href="https://github.com/epam/ketcher">Ketcher</a>, which offers an <a class="custom-link" target="_blank" href="https://lifescience.opensource.epam.com/KetcherDemoSA/index.html"><b>online demo version</b></a> and will be used in this tutorial.</p>
            <h4 class="fw-semibold lh-2 my-3">Step-by-step guide</h4>
        </div>
    </div>
    <div class="row my-2">
        <div class="col">
            <h5>Instructions can be also found in this <a rel="MITE video tutorial on YouTube" href="https://www.youtube.com/watch?v=xw8Xig8uq90" class="custom-link" target="_blank"><b>video tutorial</b></a>.</h5>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <h5 class="fw-semibold lh-2 my-3">Example 1: phenol halogenase PltM - specific reaction</h5>
            <p class="lead my-2">In this example, we will characterize the reaction of the enzyme PltM, a <a class="custom-link" target="_blank" href="https://doi.org/10.1038/s41467-019-09215-9">phenol halogenase</a>. We will draw the reaction in its easiest form and export the SMILES and reaction SMARTS.</p>
            <p class="lead my-2">In the publication, PltM is described to halogenate the phloroglucinol substrate, resulting in a mono- or di-halogenated product, with either chloride, bromide, or iodide substituents. Here, we will model the mono-chlorination reaction.</p>
        </div>
    </div>
    <div class="row d-flex align-items-center">
        <div class="col-md-6">
            <p class="lead my-2">1. In Ketcher, draw phloroglucinol and convert it into its aromatic form by pressing <b>ALT+A</b>. As a rule of thumb, all molecules must be turned into their <b>aromatic</b> (not kekulized) form to be MITE-compatible.</p>
        </div>
        <div class="col-md-6 d-flex justify-content-center">
            <img class="d-none d-sm-block my-3" style="min-width: 60%; max-width: 60%; height: auto;" src="{{ url_for('static', path='images/help/help1.png') }}" alt="Example 1 Figure 1" >
        </div>
    </div>
    <div class="row d-flex align-items-center">
        <div class="col-md-6">
            <p class="lead my-2">2. Select phloroglucinol by drawing a rectangle (or pressing <b>CTRL+A</b>) and export it as a Daylight SMILES string using the Save Structure menu (pressing <b>CTRL+S</b>). <b>“c1c(O)cc(O)cc1O”</b> is the SMILES string of the substrate.</p>
        </div>
        <div class="col-md-6 d-flex justify-content-center">
            <img class="d-none d-sm-block my-3" style="min-width: 60%; max-width: 60%; height: auto;" src="{{ url_for('static', path='images/help/help2.png') }}" alt="Example 1 Figure 2" >
        </div>
    </div>
    <div class="row d-flex align-items-center">
        <div class="col-md-6">
            <p class="lead my-2">3. In another Ketcher window, draw the chloro-phloroglucinol product. You can draw the structure from scratch or copy-paste phloroglucinol from the first Ketcher window (<b>CTRL+C/CTRL+V</b>) and add a chloride substituent. Do not forget to aromatize as before with <b>ALT+A</b>. As before, select the molecule by drawing a rectangle (or pressing <b>CTRL+A</b>) and export it as a Daylight SMILES string using the Save Structure menu (pressing <b>CTRL+S</b>). <b>“c1c(O)cc(O)c(Cl)c1O”</b> is the SMILES string of the product.</p>
        </div>
        <div class="col-md-6 d-flex justify-content-center">
            <img class="d-none d-sm-block my-3" style="min-width: 60%; max-width: 60%; height: auto;" src="{{ url_for('static', path='images/help/help3.png') }}" alt="Example 1 Figure 3" >
        </div>
    </div>
    <div class="row d-flex align-items-center">
        <div class="col-md-6">
            <p class="lead my-2">4. Select the chloro-phloroglucinol and copy it (<b>CTRL+C</b>). Go back to the first window containing phloroglucinol, add a reaction arrow, and paste the chloro-phloroglucinol on the right-hand side of the arrow. This is your reaction.</p>
        </div>
        <div class="col-md-6 d-flex justify-content-center">
            <img class="d-none d-sm-block my-3" style="min-width: 60%; max-width: 60%; height: auto;" src="{{ url_for('static', path='images/help/help4.png') }}" alt="Example 1 Figure 4" >
        </div>
    </div>
    <div class="row d-flex align-items-center">
        <div class="col-md-6">
            <p class="lead my-2">5. Next, select the reaction (<b>CTRL+A</b>), and select the <b>Reaction Auto Mapping Tool</b>, using the “Discard” mode. This will add paired atom indices to all atoms that are both on the substrate and the product side. Since the chloride atom is only present on the product side, it does not receive an index.</p>
        </div>
        <div class="col-md-6 d-flex flex-column align-items-center">
            <img class="d-none d-sm-block my-2" style="min-width: 60%; max-width: 60%; height: auto;" src="{{ url_for('static', path='images/help/help5.png') }}" alt="Example 1 Figure 5" >
            <img class="d-none d-sm-block my-2" style="min-width: 60%; max-width: 60%; height: auto;" src="{{ url_for('static', path='images/help/help6.png') }}" alt="Example 1 Figure 6" >
        </div>
    </div>
    <div class="row d-flex align-items-center">
        <div class="col-md-6">
            <p class="lead my-2">6. Select the reaction again (<b>CTRL+A</b>) and export it as a Daylight SMARTS (<b>CTRL+S</b>). <b>“[#6:1]1:[#6:5](-[#8:9]):[#6:6]:[#6:4](-[#8:8]):[#6:2]:[#6:3]:1-[#8:7]>>[#6:1]1:[#6:5](-[#8:9]):[#6:6]:[#6:4](-[#8:8]):[#6:2](-Cl):[#6:3]:1-[#8:7]”</b> is the reaction SMARTS string. With substrate and product SMILES and reaction SMARTS prepared, the MITE entry can be filled in and submitted.</p>
        </div>
        <div class="col-md-6 d-flex flex-column align-items-center">
            <img class="d-none d-sm-block my-2" style="min-width: 60%; max-width: 60%; height: auto;" src="{{ url_for('static', path='images/help/help7.png') }}" alt="Example 1 Figure 7" >
        </div>
    </div>
</div>
{% endblock %}